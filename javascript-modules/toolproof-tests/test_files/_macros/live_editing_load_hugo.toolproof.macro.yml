macro: I build my Hugo site and load it with front matter {front_matter}

steps:
  - step: I run "cd site && hugo"
  - step: I run "cd site && cloudcannon-hugo --baseurl /"
  - step: I run "npm start"
  - step: I serve the directory "site/public"
  - step: In my browser, I load "/"
  - step: In my browser, I evaluate {js}
    js: |-
      window.__REACT_DEVTOOLS_GLOBAL_HOOK__ = { isDisabled: true }; // Disables react console log
      window.CC = class CloudCannon {
        constructor(options) { this.isMocked = true; this.loadingMessages = []; this.data = options.data; document.dispatchEvent(this.event('cloudcannon:load')); }
        newData(data) { this.data = data; document.dispatchEvent(this.event('cloudcannon:update')); }
        event(name) { return new CustomEvent(name, { detail: { CloudCannon: this } });}
        enableEvents() {}
        refreshInterface() {}
        setLoading(str) { this.loadingMessages.push(str); }
        async value() { return this.data; }
      };
      window.inEditorMode = true;
      window.CloudCannon = new window.CC({ data: %front_matter% });
  - step: In my browser, I evaluate {js}
    js: |-
      await toolproof.waitFor(() => window.bookshopLive?.renderCount > 0, 8000)
