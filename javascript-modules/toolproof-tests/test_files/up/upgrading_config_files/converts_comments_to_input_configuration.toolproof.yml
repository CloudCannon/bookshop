name: Converts comments to input configuration

steps:
  - ref: ./background.toolproof.yml
  - step: I have a "component-lib/components/test/test.bookshop.toml" file with the content {toml}
    toml: |-
      [props]
      text.default = "Hello World" #: CMS Comment

      [[props.array]] #: Array Comment
      array_text.default = "Hi Globe" #: Text Comment
  - step: I run "npm start -- --yes --version 3.0.0 --format yml --skip-commands"
  - step: stderr should be empty
  - step: stdout should contain "ðŸŒŸ component-lib/components/test/test.bookshop.toml @ 2.0 â†’ yml @ 3.0"
  - snapshot: The file "component-lib/components/test/test.bookshop.yml"
    snapshot_content: |-
      â•Ž# Metadata about this component, to be used in the CMS
      â•Žspec: {}
      â•Ž
      â•Ž# Defines the structure of this component, as well as the default values
      â•Žblueprint:
      â•Ž  text: Hello World
      â•Ž  array:
      â•Ž    - array_text: Hi Globe
      â•Ž
      â•Ž# Overrides any fields in the blueprint when viewing this component in the component browser
      â•Žpreview: {}
      â•Ž
      â•Ž# Any extra CloudCannon inputs configuration to apply to the blueprint
      â•Ž_inputs:
      â•Ž  text:
      â•Ž    comment: CMS Comment
      â•Ž  array:
      â•Ž    comment: Array Comment
      â•Ž  array_text:
      â•Ž    comment: Text Comment
